---
source: crates/cli/tests/initialize_tests.rs
expression: contents
---
packagingDefinition:
  type: PrebuiltDockerImage
  dockerImage: ghcr.io/hasura/ndc-postgres:latest
supportedEnvironmentVariables:
- name: CONNECTION_URI
  description: The PostgreSQL connection URI
  defaultValue: postgresql://read_only_user:readonlyuser@35.236.11.122:5432/v3-docs-sample-app
- name: CLIENT_CERT
  description: The SSL client certificate (Optional)
  defaultValue: ''
- name: CLIENT_KEY
  description: The SSL client key (Optional)
  defaultValue: ''
- name: ROOT_CERT
  description: The SSL root certificate (Optional)
  defaultValue: ''
commands:
  update: hasura-ndc-postgres update
cliPlugin:
  name: ndc-postgres
  version: latest
dockerComposeWatch:
- path: ./
  target: /etc/connector
  action: sync+restart
nativeToolchainDefinition:
  commands:
    start:
      type: ShellScript
      bash: |-
        #!/usr/bin/env bash
        set -eu -o pipefail
        HASURA_CONFIGURATION_DIRECTORY="$HASURA_PLUGIN_CONNECTOR_CONTEXT_PATH" ndc-postgres serve
      powershell: |-
        $ErrorActionPreference = "Stop"
        $env:HASURA_CONFIGURATION_DIRECTORY="$env:HASURA_PLUGIN_CONNECTOR_CONTEXT_PATH"; & ndc-postgres.exe serve
    update:
      type: ShellScript
      bash: |-
        #!/usr/bin/env bash
        set -eu -o pipefail
        "$HOME/.ddn/plugins/store/ndc-postgres/$POSTGRES_VERSION/hasura-ndc-postgres" update
      powershell: |-
        $ErrorActionPreference = "Stop"
        & "$env:USERPROFILE\.ddn\plugins\store\ndc-postgres\$env:POSTGRES_VERSION\hasura-ndc-postgres.exe" update
